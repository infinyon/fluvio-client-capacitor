import { Fluvio } from '@fluvio/client-capacitor';

// const fluvio = FluvioClient.connect();
Fluvio.connect({
    endpoint: "router.dev.infinyon.cloud:9003",
    domain: "silent-snowflake-431e51ccc0d906459a7c46f30c5f46de.c.dev.infinyon.cloud",
    key: "-----BEGIN RSA PRIVATE KEY-----\n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\n-----END RSA PRIVATE KEY-----\n",
    cert: "-----BEGIN CERTIFICATE-----\nMIIGhzCCBG+gAwIBAgIUVAsjsYYuDldyaOXTYkUmU4GY8xwwDQYJKoZIhvcNAQEL\nBQAwgYoxCzAJBgNVBAYTAlVTMTowOAYDVQQDDDFzaWxlbnQtc25vd2ZsYWtlLTQz\nMWU1MWNjYzBkOTA2NDU5YTdjNDZmMzBjNWY0NmRlMSwwKgYJKoZIhvcNAQkBFh10\nZWFtK2dsdWNvc2VkZW1vQGluZmlueW9uLmNvbTERMA8GA1UECgwISW5maW55b24w\nHhcNMjIwNDE1MjEyNzE0WhcNMzcwNDExMjEyNzE0WjBhMREwDwYDVQQDDAhjdXN0\nb21lcjELMAkGA1UEBhMCVVMxLDAqBgkqhkiG9w0BCQEWHXRlYW0rZ2x1Y29zZWRl\nbW9AaW5maW55b24uY29tMREwDwYDVQQKDAhJbmZpbnlvbjCCAiIwDQYJKoZIhvcN\nAQEBBQADggIPADCCAgoCggIBAOuaAE5Txj/yRIwNwMU0JwQ8AiHOqx5yDcGav/aI\nTALxdiHBb6Xp0zGLOEUHVxyfeFHB8Rlkec36VHjWKUEayZ0oeJHgnT+M1O/jBf+o\nreDT7XMFmq74xnPyPC8qmjnhOeAsz+k2iEo5SU3SkMheA7aiYs6s5wF8ITd/NqG5\nGk5NS26qIxOUrz+oskyIGuBaS5qcYhDfIQd2EBu+aRc/HuK+3Bqfh8h87ezQ7HJu\nl1qQFJ0cuwK7Ss2FKgkzElCT9sglzJPAyEGoYkdN7pteYn9DbvoyU5Juc9oBU0lU\njAphxfxj0iLA2oA2EwM0IVFJ1M23h0gxIFtvkCfKh30jLwqrV03S78xuziPeYm4c\nnsMuV5mnHlhQ/ucaIJ4nh3O+2XoudJ167L7ZIZqPSOcq1zaZI8IbPiCVyAUuY5QU\n5jcgNCn8yOp0ZIZEUl8Z63Uh9yA21el2IHZkl1HoRAjSX3zKK2fIJ4eRiA0K7jCI\nwAXGbzA8GnAwhVNvvshYAnOZWdlvGdxcQD3B2KPiP6HB4K7GMcdE8+k98c25FYHQ\niBQQaUXMGBy9nk/REARgVdpW+nGnqsGR1I8bR+3iEDLvb4k+8aY0Yju3joQJS5/x\ncrzWWR593eIbMQzXGCHvMI9KhbdcAxU2dea4wDwJP6jYpbi9LxIPEoV1mu8jjZ/e\nkZqPAgMBAAGjggELMIIBBzAMBgNVHRMBAf8EAjAAMAsGA1UdDwQEAwIGwDAdBgNV\nHQ4EFgQUn6khNG7FWKANpto3rOeDD8GFilswgcoGA1UdIwSBwjCBv4AUwSfT4mwx\nLYrjSiyl56MZQT4XPtOhgZCkgY0wgYoxCzAJBgNVBAYTAlVTMTowOAYDVQQDDDFz\naWxlbnQtc25vd2ZsYWtlLTQzMWU1MWNjYzBkOTA2NDU5YTdjNDZmMzBjNWY0NmRl\nMSwwKgYJKoZIhvcNAQkBFh10ZWFtK2dsdWNvc2VkZW1vQGluZmlueW9uLmNvbTER\nMA8GA1UECgwISW5maW55b26CFHRL9Xf4pp72j71x5enEy4t6dHc0MA0GCSqGSIb3\nDQEBCwUAA4ICAQBlIvoyGnJUxqk9GDniZo0fjTkZPjeAclzhUyjqWtBDmjy7XR+i\nQhKWgNMReiJ5Yo+085LegibBRWFrYeoqR04zI2++YqBn5ZR3QRRSHa0Bw/sMOwsL\nN0limcjbSsXBgOBsT5TqUfTnNVeup/wUqsjn6BjPrQ2HEsCzVFx1coPWwBEZR1vS\nR/XNSGH8RwIV2joEC0oz3unJq+sM/La1JdtQYJGzvDxZqpLU6yqW4FEHIijkwNab\ncVZWiqjyMURKu/nU8PGlww2UGtaP4VXSLTkqWQBwOWP8L775J3uKCnKEB3oD4jw8\nZpF2iNonQ1cVY9e4RY0H8J/MxN9ITM87RGxlXzCS3Wt/U1UMr4wxccURZeib0jbB\npRhCvYejI9STOTHDKBcBR9wrzom90xVbTk6lxV6RBih4MXapsJVZskg0STqbYbMI\n1K3HdNR5gNUr4uSJpI791bWEuLBAreYZ5SZOjIRpw+EnFodOefnVpoCS6oWGxaZ/\nm5sYJMK3UAcLSlCaJXhcGdX6gsoGmBemnZaDsaSM9mIKEk81ovy9E2ERnjItaXT9\nStiLrLPaqg7+WizWsY8d1IexqKMd/+KjcLTsVdkpdmAH4cDjKp7AZK6hcfoAEi+L\nQVXoOpHt3r/tzV9PaUAN9l/Fdzon9ooBd6S5aNIArPCvswZ3CYZsJwW4zw==\n-----END CERTIFICATE-----\n",
    ca_cert: "-----BEGIN CERTIFICATE-----\nMIIGTDCCBDSgAwIBAgIUdEv1d/imnvaPvXHl6cTLi3p0dzQwDQYJKoZIhvcNAQEL\nBQAwgYoxCzAJBgNVBAYTAlVTMTowOAYDVQQDDDFzaWxlbnQtc25vd2ZsYWtlLTQz\nMWU1MWNjYzBkOTA2NDU5YTdjNDZmMzBjNWY0NmRlMSwwKgYJKoZIhvcNAQkBFh10\nZWFtK2dsdWNvc2VkZW1vQGluZmlueW9uLmNvbTERMA8GA1UECgwISW5maW55b24w\nHhcNMjIwMzMwMTYzNDE5WhcNMzcwMzI2MTYzNDE5WjCBijELMAkGA1UEBhMCVVMx\nOjA4BgNVBAMMMXNpbGVudC1zbm93Zmxha2UtNDMxZTUxY2NjMGQ5MDY0NTlhN2M0\nNmYzMGM1ZjQ2ZGUxLDAqBgkqhkiG9w0BCQEWHXRlYW0rZ2x1Y29zZWRlbW9AaW5m\naW55b24uY29tMREwDwYDVQQKDAhJbmZpbnlvbjCCAiIwDQYJKoZIhvcNAQEBBQAD\nggIPADCCAgoCggIBAKcNF0K/nJYVtxYiK9X2i2KqHNZsIPvevQj7jbfDsAlSDztT\nk96AnAur05nusylrLi2VSbvPGgNismD/ne0z3ZvVL65q7Sih5oC0YhiowyyJ3DPq\nCCHMkGt8SaoNlqaZ/Eu5OD1XWZMA231sDOTOv9a/zxGDo2wPzM1Ywg5yBq7eSHDU\nrhgRRr8nxIxPL+K68U3Ybkz4tISjDidsKo1t0lfm0VSwbrByMoGNrhFbk/w8HthN\n2z4J87NuZSrvmOLg2sVAN5RL329W/lb/09uO+mx8oczGFMwDJ58i48vBIKNZAjXZ\ndHqe9wW5INu2nveCskQ9Skn3OLJMOyYx0JEkq2iUPGvUiKTZyufi74sOoJtU1ZMB\n258OsCjqVlQLYoY4V2UYB9w3D28ONn58McynFTea7Jxq7pATqf+XohOg3RGvv7qR\nhCelfmLWSVdCmeaGf6vUADQJYOIvZvxhqbAimj4CtHDkiyvqhsUEk1yK1fB32xTm\n01e5aNUUeqoCTKAfoTvYGXMWJidD1TZziONsC9OeW9Q9sOm/ZpXQm3kXvUwElfEO\nrx3Y1NIsSUVXs+eEgDewck9hwmB6MgKHPqd7+3j7YcMAhukl0A2svuX9e6AxAhct\nO9wr6xtL97R7tOX83/7XdTilflyRsNiF6FlnxnjXSsGK0RW5iumrdS8/vqERAgMB\nAAGjgacwgaQwHQYDVR0OBBYEFMEn0+JsMS2K40ospeejGUE+Fz7TMB8GA1UdIwQY\nMBaAFMEn0+JsMS2K40ospeejGUE+Fz7TMA8GA1UdEwEB/wQFMAMBAf8wUQYDVR0R\nBEowSIJGc2lsZW50LXNub3dmbGFrZS00MzFlNTFjY2MwZDkwNjQ1OWE3YzQ2ZjMw\nYzVmNDZkZS5jLmRldi5pbmZpbnlvbi5jbG91ZDANBgkqhkiG9w0BAQsFAAOCAgEA\nn85TIPVNF4qky9nHzkhXa9OKMgrQNIWPvtvmNdl92e/lVPb4Cvj1N2eqrNf7hq89\nkpn9/eae98f6exVLdoXCVIXtXz6Z2VKbNABKspuHeTu+CsduxdQiuY1GyvninvY/\nQ8JnrYjEj6unOKonycR05bjYfgiNAKad7iga2uGbnm8SBO/9Xfk/8VNaVFxTZ+6T\n6AoGxUH3uRat2Z+lTTHWc/hGAXLrlMA+bL0z43TEyeiNdjUB5ofP/uFt/Ma/QYHd\nxJlZzbMlHujcArCmqnV8nyJ7D+P1HHHrovKzrrGFu3UOcFBrPzIcEEPlolcaJWFQ\nQQb2xacsyOHU1fPewhWMJpcJ20vYb3kpNsAEpWEKsGdR2+jLYQyzhI4fVA/XjMPm\n0XwoOWlY+HHK6hoRrZtSVwHZUVBKxJY59iFymx9UKZKldQ9salol+6PfhlMlV1GS\nGQS7DwHfMIoB4aZFJlb7lp5pV1/BJXMAyQD5vXl0MdfATBI5mowSYZMdzfTAwlAW\n27Vbrt851S4/Jmi3IOD8vKFFg/iTBUTAjz60gLp9yrIUDhu7cbQRcsaKleHtm73J\nrKiouX7oLB+sIQ0/xPwd7tV0m2BJiPrnqaDrYl4SGd/raMEmXEToufWS+IjGjeuH\ny+HNzPp0B6iQL/cSFv9ZsdrBYey1XBxrUMnoSARtQCI=\n-----END CERTIFICATE-----\n"
}).then((returnVal) => {

    let clientId = returnVal.clientId;

    // console.log(fluvio);
    // console.log(Fluvio);

    console.log("connect" + JSON.stringify(returnVal));

    for (let i = 0; i < 10000; i++) {

        Fluvio.produce({ clientId, topic: "glucose", value: `new value ${i}` }).then((returnVal) => {
            console.log("produce" + JSON.stringify(returnVal));
        }, (err) => {
            console.error("err2" + JSON.stringify(err));
        });
    }
}, (err) => {
    console.error("err1" + JSON.stringify(err));
});